# Virtual Machine Project

Этот проект представляет собой виртуальную машину, которая выполняет бинарные инструкции, преобразованные из текстового формата в бинарный, и позволяет работать с такими операциями, как загрузка значений в память, запись значений в память и выполнение математических операций (например, `abs()`).

## Структура проекта

- `assembler.py`: Программа для преобразования текстовых инструкций в бинарный формат.
- `interpreter.py`: Интерпретатор, который выполняет бинарные инструкции, читая и изменяя состояние памяти.
- `abs_test.py`: Тестовый скрипт для проверки работы операции `abs()` на векторе значений.
- `test_assembler.py`: Тесты для ассемблера.

### Команды для запуска
1. Запуск ассемблера:
Преобразует инструкции из текстового файла в бинарный формат.

```bash
python assembler.py input.txt output.bin log.csv
```
Параметры:
input.txt: Путь к текстовому файлу с инструкциями.
output.bin: Путь к файлу, в который будет записан бинарный код.
log.csv: Путь к файлу для записи лога операций ассемблера.
2. Запуск тестов для ассемблера:
Выполняет тесты для ассемблера, проверяя корректность преобразования инструкций.
```bash
python test_assembler.py
```
3. Запуск интерпретатора:
Выполняет бинарный код, считанный из файла, и сохраняет результаты выполнения в CSV.
```bash
python interpreter.py output.bin result.csv 0 100
```
Параметры:
output.bin: Путь к бинарному файлу с инструкциями.
result.csv: Путь к файлу для записи состояния памяти после выполнения.
0: Начальный индекс диапазона памяти, с которого будет начинаться выполнение.
100: Конечный индекс диапазона памяти, до которого будет выполняться программа.
4. Запуск теста для операции abs():
Тестирует работу операции abs() на векторе значений и сохраняет результаты в CSV.
```bash
python abs_test.py
```
Этот скрипт создает инструкции для применения операции abs() к каждому элементу вектора, выполняет их и сохраняет результат в файл test_result.csv.
Пример файла инструкций (input.txt)
```text
load 0 5
write 0 0
load 1 10
write 1 1
abs 0 0
write 0 1
```
Этот пример создает инструкции для загрузки и записи значений в память, а также для выполнения операции abs().

Формат файлов
Входной файл для ассемблера (input.txt)
Инструкции, разделенные пробелами. Каждая строка представляет собой одну инструкцию.
Бинарный файл (output.bin)
Бинарный файл, содержащий инструкции, преобразованные из текстового формата.
Лог-файл (log.csv)
Лог операций ассемблера, записывающий каждую выполненную команду и ее параметры.
Результат выполнения (result.csv)
CSV файл, в котором записано состояние памяти после выполнения инструкций интерпретатором.